<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø—Ä–µ–¥–º–µ—Ç–∞—Ö</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .notification {
            background: #28a745;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .error {
            background: #dc3545;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .info {
            background: #17a2b8;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø—Ä–µ–¥–º–µ—Ç–∞—Ö</h1>
        
        <div class="test-section">
            <h2>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h2>
            <button class="test-button" onclick="testItemReceived()">–¢–µ—Å—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–∞</button>
            <button class="test-button" onclick="testItemRemoved()">–¢–µ—Å—Ç –∏–∑—ä—è—Ç–∏—è –ø—Ä–µ–¥–º–µ—Ç–∞</button>
            <button class="test-button" onclick="testRelationshipPositive()">–¢–µ—Å—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π</button>
            <button class="test-button" onclick="testRelationshipNegative()">–¢–µ—Å—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π</button>
            <button class="test-button" onclick="testImportantChoice()">–¢–µ—Å—Ç –≤–∞–∂–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞</button>
        </div>

        <div class="test-section">
            <h2>–õ–æ–≥–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
            <div id="test-log"></div>
        </div>
    </div>

    <script>
        // –ò–º–∏—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        let notifications = [];
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message, type = 'info') {
            const log = document.getElementById('test-log');
            const notification = document.createElement('div');
            notification.className = type;
            notification.textContent = message;
            log.appendChild(notification);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        // –ò–º–∏—Ç–∞—Ü–∏—è window.addNotification
        window.addNotification = function(type, data) {
            console.log('window.addNotification –≤—ã–∑–≤–∞–Ω–∞:', { type, data });
            
            let message = '';
            let notificationType = 'info';
            
            switch(type) {
                case 'item_received':
                    message = `üéÅ ${data.message}`;
                    notificationType = 'success';
                    break;
                case 'item_removed':
                    message = `‚ùå ${data.message}`;
                    notificationType = 'error';
                    break;
                case 'relationship_positive':
                    message = `‚ù§Ô∏è ${data.message}`;
                    notificationType = 'success';
                    break;
                case 'relationship_negative':
                    message = `üíî ${data.message}`;
                    notificationType = 'error';
                    break;
                case 'important_choice':
                    message = `‚≠ê ${data.message}`;
                    notificationType = 'info';
                    break;
                default:
                    message = data.message || '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ';
                    notificationType = 'info';
            }
            
            showNotification(message, notificationType);
        };

        // –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function testItemReceived() {
            console.log('–¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞');
            window.addNotification('item_received', {
                message: '–ü–æ–ª—É—á–µ–Ω –ø—Ä–µ–¥–º–µ—Ç "–ü–æ–¥–∞—Ä–æ–∫"',
                itemName: '–ü–æ–¥–∞—Ä–æ–∫'
            });
        }

        function testItemRemoved() {
            console.log('–¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–∑—ä—è—Ç–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞');
            window.addNotification('item_removed', {
                message: '–ò–∑—ä—è—Ç –ø—Ä–µ–¥–º–µ—Ç "–Ø–±–ª–æ–∫–æ"',
                itemName: '–Ø–±–ª–æ–∫–æ'
            });
        }

        function testRelationshipPositive() {
            console.log('–¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è');
            window.addNotification('relationship_positive', {
                message: '–ê—Ä—Å–µ–Ω–∏–π —ç—Ç–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å',
                characterName: '–ê—Ä—Å–µ–Ω–∏–π'
            });
        }

        function testRelationshipNegative() {
            console.log('–¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è');
            window.addNotification('relationship_negative', {
                message: '–ê—Ä—Å–µ–Ω–∏–π —ç—Ç–æ –Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å',
                characterName: '–ê—Ä—Å–µ–Ω–∏–π'
            });
        }

        function testImportantChoice() {
            console.log('–¢–µ—Å—Ç–∏—Ä—É–µ–º –≤–∞–∂–Ω—ã–π –≤—ã–±–æ—Ä');
            window.addNotification('important_choice', {
                message: '–ê—Ä—Å–µ–Ω–∏–π —ç—Ç–æ –∑–∞–ø–æ–º–Ω–∏—Ç',
                characterName: '–ê—Ä—Å–µ–Ω–∏–π'
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        console.log('–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø—Ä–µ–¥–º–µ—Ç–∞—Ö –∑–∞–≥—Ä—É–∂–µ–Ω');
        console.log('window.addNotification –¥–æ—Å—Ç—É–ø–Ω–∞:', typeof window.addNotification);
    </script>
</body>
</html> 