# Редактор эпизодов

Отдельное приложение для редактирования эпизодов, глав и сцен игры.

## Структура проекта

```
editor/
├── client/          # React клиент
├── server/          # Express сервер
└── README.md        # Этот файл
```

## Установка и запуск

### 1. Запуск сервера

```bash
cd server
npm install
npm start
```

Сервер запустится на порту 3001.

### 2. Запуск клиента

```bash
cd client
npm install
npm start
```

Клиент запустится на порту 3000.

## Функциональность

### Управление эпизодами
- Создание новых эпизодов
- Редактирование существующих эпизодов
- Удаление эпизодов
- Загрузка превью изображений
- Автоматическое обновление episodes.json

### Управление главами
- Создание глав в эпизодах
- Редактирование глав
- Удаление глав
- Отображение количества сцен в главе

### Управление сценами
- Создание сцен в главах
- Редактирование сцен
- Удаление сцен
- Добавление диалогов
- Добавление выборов
- Настройка переходов между сценами

## API Endpoints

### Эпизоды
- `GET /api/episodes` - Получить все эпизоды
- `POST /api/episodes` - Создать эпизод
- `PUT /api/episodes/:id` - Обновить эпизод
- `DELETE /api/episodes/:id` - Удалить эпизод

### Главы
- `GET /api/episodes/:episodeId/chapters` - Получить главы эпизода
- `POST /api/episodes/:episodeId/chapters` - Создать главу
- `DELETE /api/episodes/:episodeId/chapters/:chapterId` - Удалить главу

### Сцены
- `GET /api/episodes/:episodeId/chapters/:chapterId/scenes` - Получить сцены главы
- `POST /api/episodes/:episodeId/chapters/:chapterId/scenes` - Создать сцену
- `PUT /api/episodes/:episodeId/scenes/:sceneId` - Обновить сцену
- `DELETE /api/episodes/:episodeId/scenes/:sceneId` - Удалить сцену

### Загрузка файлов
- `POST /api/episodes/upload-preview` - Загрузить превью изображение

## Особенности

- Редактор работает напрямую с файловой системой игры
- Автоматическое создание структуры папок
- Конвертация изображений в PNG формат
- Обновление episodes.json при создании/изменении эпизодов
- Современный UI с анимациями и адаптивным дизайном

## Использование

1. Запустите сервер и клиент
2. Откройте браузер на http://localhost:3000
3. Выберите вкладку "Эпизоды" для управления эпизодами
4. Выберите эпизод и перейдите на вкладку "Главы"
5. Выберите главу и перейдите на вкладку "Сцены"
6. Создавайте и редактируйте контент

Все изменения сохраняются в реальном времени в файловой системе игры. 